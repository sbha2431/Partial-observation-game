\todo{partition, one partition refines another}


For a partition $\part = \{Q_i\}_{i=1}^n$ of the set of target positions $L_t$ in a game structure $G$ we define the function $\alpha_\part : L_t \to \part$ by letting $\alpha(l) = Q$ for the unique $Q \in \part$ with $l \in Q$. We denote also with $\alpha_{\part} : \mathcal{P}(L_t) \to \mathcal{P}(\part)$ the \emph{abstraction function} defined by $\alpha_{\part}(L) = \{\alpha_\part(l) \mid l \in L\}$.
We define a \emph{concretization function} $\gamma :  \mathcal{P}(\part) \cup L_t \to \mathcal{P}(L_t)$
\[
\gamma(A) =
\begin{cases}
\{l_t\} &\text{if } A = l_t \in L_t,\\
\bigcup_{Q \in A} Q &\text{if } A \in \mathcal{P}(\mathcal{Q}).\\
\end{cases}
\]
Given a surveillance game structure $G  = (\states,s^\init,\trans,\vis)$ and a partition $\part = \{Q_i\}_{i=1}^n$ of the set $L_t$, we define the \emph{abstraction of $G$ w.r.t.\ $\part$} to be the game structure 
$G_\abstr  = \alpha_{\part}(G)= (\states_\abstr,s^\init_\abstr,\trans_\abstr)$, where

\begin{itemize}
\item $\states_\abstr = (L_a \times \mathcal P(\part)) \cup (L_a \times L_t)$  is the set of \emph{abstract states}, consisting of states approximating the belief sets in the game structure $G_\belief$, as well as the states $\states$,
\item $s^\init_\abstr = (l_a^\init,A_t^\init)$ is the \emph{initial abstract state}, where we let $A_t^{\init} = l_t^\init$ if $\vis(l_a,l_t) = \true$, and we define $A_t^{\init} = \{\alpha_{\part}(l_t^\init)\}$ in case $\vis(l_a,l_t) = \false$.
\item $\trans_\abstr \subseteq \states_\abstr \times \states_\abstr$ is the transition relation such that $((l_a, A_t),(l_a', A_t')) \in \trans_\abstr$ if and only if one of the following two conditions is satisfied
\begin{itemize}
\item[(1)] $A_t' = l_t'$ for some $l_t' \in L_t$, where $\vis(l_a,l_t') = \true$, and $((l_a,l_t),(l_a',l_t')) \in \trans$ for some $l_t \in \gamma(A_t)$;

\item[(3)] $A_t' = \alpha_{\part}(B_t')$, where 

$\begin{array}{lll}
B_t' = \{l_t' & \mid & \vis(l_a,l_t') = \false \text{ and } \\
&& \exists l_t \in \gamma(A_t).\ ((l_a,l_t),(l_a',l_t')) \in \trans\}.
\end{array}
$
\end{itemize}
As for the belief-set game structure, the first condition captures the successor locations of target that can be observed from the agent's current location $l_a$. Condition (2) corresponds to the \emph{abstract belief set} whose concretization that consists of all possible successors of all positions in $\gamma(A_t)$, which successors are  not visible from $l_a$. Since the belief-abstraction overapproximates the agent's belief, that is, $\gamma(\alpha_{\part}(B)) \supseteq B$, the abstract belief $\gamma(A_t')$ may include positions in $L_t$ that are not successors of positions in $\gamma(A_t)$.

%\begin{itemize}
%\item[(1)] $A_t' = l_t'$ for some $l_t' \in L_t$, where $\vis(l_a,l_t') = \true$, and $((l_a,l_t),(l_a',l_t')) \in \trans$ for some $l_t \in \gamma(A_t)$;
%\item[(2)] there exists $l_t \in \gamma(A_t)$ with $\vis(l_a,l_t) = \true$, and $A_t' = \alpha_{\part}(B_t')$, where
%
%$\begin{array}{lll}
%B_t' = \{l_t' & \mid & \vis(l_a,l_t') = \false \text{ and } \\
%&& ((l_a,l_t),(l_a',l_t')) \in \trans\};
%\end{array}
%$
%
%\item[(3)] $A_t' = \alpha_{\part}(B_t')$, where 
%
%$\begin{array}{lll}
%B_t' = \{l_t' & \mid & \vis(l_a,l_t') = \false \text{ and } \\
%&& \exists l_t \in \gamma(A_t): \vis(l_a,l_t') = \false \\
%&& \text{and }  ((l_a,l_t),(l_a',l_t')) \in \trans\}.
%\end{array}
%$
%\end{itemize}
%As for the belief-set game structure, the first condition captures of target that can be observed from the agent's current location $l_a$. Conditions (2) and (3) correspond to \emph{abstract} belief sets whose concretization includes all possible successor locations of the target not visible from $l_a$. In (2) those are successors of a single possible current position $l_t$ of the target that is visible from $l_a$, while in (3) the belief consist of  successors of all positions in $B_t$ not visible from $l_a$. Since the belief-abstraction overapproximates the agent's belief, that is, $\gamma(\alpha_{\part}(B)) \supseteq B$, the abstract belief $\gamma(A_t')$ may include positions that are not successors of positions in $\gamma(A_t)$.
\end{itemize}

\begin{example}
\todo{abstract game structure for previous example}
\end{example}

